// Final attempt at position restoration
if (variable_global_exists("playerPreBattleX") && 
    variable_global_exists("playerPreBattleY")) {
    
    // Final position setting
    x = global.playerPreBattleX;
    y = global.playerPreBattleY;
} 